<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Dive B&B</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.47/dist/vue.global.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
</head>
<body>
    <div id="app" class="bg-white">
        <!-- 導航 -->
        <nav class="fixed w-full z-50 bg-white shadow-md">
            <div class="container mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0">
                <div class="text-2xl font-bold w-full text-center md:text-left">Happy Dive B&B</div>
                <div class="flex flex-wrap justify-center items-center space-x-4">
                    <a href="#about" class="hover:text-blue-600">關於我們</a>
                    <a href="#rooms" class="hover:text-blue-600">房型</a>
                    <a href="#gallery" class="hover:text-blue-600">時光藝廊</a>
                    <a href="#services" class="hover:text-blue-600">服務</a>
                    <a href="#booking" class="bg-blue-500 text-white px-4 py-2 rounded">預約</a>
                </div>
            </div>
        </nav>

        <!-- 主視覺 -->
        <header class="h-screen relative">
            <img src="image/h1.jpg" alt="民宿環境" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center text-center">
                <div class="text-white">
                    <h1 class="text-5xl font-bold mb-4">Happy Dive B&B</h1>
                    <p class="text-xl">享受大自然的寧靜與舒適</p>
                </div>
            </div>
        </header>

        <!-- 關於我們 -->
        <section id="about" class="container mx-auto py-16 px-4 grid md:grid-cols-2 gap-8">
            <div>
                <h2 class="text-3xl font-bold mb-4">關於我們</h2>
                <p class="text-gray-600">
                    我們的民宿位於風景優美的自然環境中，提供舒適的住宿體驗。每個房間都配備現代化設施，包括免費無線網絡、平面電視、冷氣及私人浴室，讓您在遠離城市喧囂的同時，依然享受家的舒適。
                </p>
            </div>
            <img src="image/IMG_2666.jpg" alt="民宿環境" class="w-full h-96 object-cover rounded-lg">
        </section>

        <!-- 房型介紹 -->
        <section id="rooms" class="bg-gray-50 py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-8">房型介紹</h2>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <img src="image/happydive-b-b-sea_orig.png" alt="海景房" class="w-full mb-4 rounded-lg">
                        <h3 class="text-xl font-bold">海景房</h3>
                        <p class="text-gray-600">享受絕美海景的浪漫房型</p>
                        <p class="text-blue-600 font-bold mt-2">每晚 NT$ 1,500</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <img src="image/happydive-b-b-mt_orig.png" alt="山景房" class="w-full mb-4 rounded-lg">
                        <h3 class="text-xl font-bold">山景房</h3>
                        <p class="text-gray-600">寬敞舒適，適合攜家帶眷</p>
                        <p class="text-blue-600 font-bold mt-2">每晚 NT$ 3,000</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <img src="image/happydive-b-b-general_orig.png" alt="一班房" class="w-full mb-4 rounded-lg">
                        <h3 class="text-xl font-bold">背包房</h3>
                        <p class="text-gray-600">寬敞舒適，適合多人</p>
                        <p class="text-blue-600 font-bold mt-2">每晚 NT$ 4,500</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 時光藝廊 -->
        <section id="gallery" class="container mx-auto py-16 px-4">
            <h2 class="text-3xl font-bold text-center mb-8">時光藝廊</h2>
            <div class="grid md:grid-cols-4 gap-4">
                <img src="image/frount.jpg" alt="環境照1" class="w-full h-64 object-cover rounded-lg">
                <img src="image/in.jpg" alt="環境照2" class="w-full h-64 object-cover rounded-lg">
                <img src="image/stair.jpg" alt="環境照3" class="w-full h-64 object-cover rounded-lg">
                <img src="image/happyb-b-01-room.jpg" alt="環境照4" class="w-full h-64 object-cover rounded-lg">
            </div>
        </section>

        <!-- 服務項目 -->
        <!-- 服務項目 -->
<section id="services" class="bg-gray-50 py-16">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-8">優質服務</h2>
        <div class="grid md:grid-cols-3 gap-6">
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <i class="mdi mdi-food text-4xl text-blue-500 mb-4"></i>
                <h3 class="text-xl font-bold mb-2">早餐服務</h3>
                <p class="text-gray-600">提供新鮮且豐盛的早餐</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <i class="mdi mdi-ferry text-4xl text-blue-500 mb-4"></i>
                <h3 class="text-xl font-bold mb-2">船潛體驗</h3>
                <p class="text-gray-600">專業教練帶領海洋探索</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <i class="mdi mdi-fish text-4xl text-blue-500 mb-4"></i>
                <h3 class="text-xl font-bold mb-2">夜釣小卷</h3>
                <p class="text-gray-600">夜間獨特的釣魚體驗</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <i class="mdi mdi-ferry text-4xl text-blue-500 mb-4"></i>
                <h3 class="text-xl font-bold mb-2">包船服務</h3>
                <p class="text-gray-600">私人包船，客製化海上行程</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <i class="mdi mdi-pool text-4xl text-blue-500 mb-4"></i>
                <h3 class="text-xl font-bold mb-2">水肺套裝行程</h3>
                <p class="text-gray-600">一站式水肺潛水體驗</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <i class="mdi mdi-certificate text-4xl text-blue-500 mb-4"></i>
                <h3 class="text-xl font-bold mb-2">潛水證照取得</h3>
                <p class="text-gray-600">專業認證，從入門到進階</p>
            </div>
        </div>
    </div>
</section>
<!-- 團隊介紹 -->
<section id="team" class="container mx-auto py-16 px-4">
    <h2 class="text-3xl font-bold text-center mb-8">我們的團隊</h2>
    <div class="grid md:grid-cols-4 gap-6">
        <div class="bg-white rounded-lg shadow-md p-6 text-center">
            <img src="image/father2.jpg" alt="老闆" class="w-48 h-48 object-cover rounded-full mx-auto mb-4">
            <h3 class="text-xl font-bold mb-2">老闆</h3>
            <p class="text-gray-600 mb-4">船長兼水電工及大廚</p>
            <div class="text-sm text-gray-500">熱愛大海，致力於提供最佳潛水體驗</div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6 text-center">
            <img src="image/mother.jpg" alt="老闆娘" class="w-48 h-48 object-cover rounded-full mx-auto mb-4">
            <h3 class="text-xl font-bold mb-2">老闆娘</h3>
            <p class="text-gray-600 mb-4">小心老虎出沒</p>
            <div class="text-sm text-gray-500">用心經營，關懷每一位客人</div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6 text-center">
            <img src="image/flower.jpg" alt="管家" class="w-48 h-48 object-cover rounded-full mx-auto mb-4">
            <h3 class="text-xl font-bold mb-2">管家</h3>
            <p class="text-gray-600 mb-4">生活管理與客戶服務專家，薪水只需要每天一盒罐罐</p>
            <div class="text-sm text-gray-500">除了吃就是睡</div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6 text-center">
            <img src="image/sb.jpg" alt="小幫手" class="w-48 h-48 object-cover rounded-full mx-auto mb-4">
            <h3 class="text-xl font-bold mb-2">小幫手</h3>
            <p class="text-gray-600 mb-4">只會賣萌沒什麼用還會掉毛</p>
            <div class="text-sm text-gray-500">活力充沛的年輕工作夥伴</div>
        </div>
    </div>
</section>

        <!-- 修改預約系統部分 -->
        <section id="booking" class="container mx-auto py-16 px-4">
            <h2 class="text-3xl font-bold text-center mb-8">線上預約</h2>
            <div class="max-w-xl mx-auto bg-white shadow-md rounded-lg p-8">
                <!-- 添加 Formspree action 和 method -->
                <form 
                    action="https://formspree.io/f/xovevkvd" 
                    method="POST"
                    @submit.prevent="submitBooking"
                >
                    <div class="mb-4">
                        <label class="block mb-2">姓名 *</label>
                        <input 
                            name="name"
                            v-model="bookingForm.name" 
                            type="text" 
                            class="w-full px-3 py-2 border rounded" 
                            required
                            :class="{'border-red-500': submitted && !bookingForm.name}"
                        >
                        <p v-if="submitted && !bookingForm.name" class="text-red-500 text-sm mt-1">
                            請輸入姓名
                        </p>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block mb-2">聯絡電話 *</label>
                        <input 
                            name="phone"
                            v-model="bookingForm.phone" 
                            type="tel" 
                            class="w-full px-3 py-2 border rounded" 
                            required
                            pattern="[0-9]{10}"
                            :class="{'border-red-500': submitted && !isValidPhone}"
                        >
                        <p v-if="submitted && !isValidPhone" class="text-red-500 text-sm mt-1">
                            請輸入正確的10位數手機號碼
                        </p>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block mb-2">Line ID *</label>
                        <input 
                            name="lineId"
                            v-model="bookingForm.lineId" 
                            type="text" 
                            class="w-full px-3 py-2 border rounded" 
                            required
                            :class="{'border-red-500': submitted && !bookingForm.lineId}"
                        >
                        <p v-if="submitted && !bookingForm.lineId" class="text-red-500 text-sm mt-1">
                            請輸入Line ID
                        </p>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block mb-2">預約房型 *</label>
                        <select 
                            name="roomType"
                            v-model="bookingForm.roomType" 
                            class="w-full px-3 py-2 border rounded" 
                            required
                            :class="{'border-red-500': submitted && !bookingForm.roomType}"
                        >
                            <option value="">請選擇房型</option>
                            <option value="海景房">海景房</option>
                            <option value="山景房">山景房</option>
                            <option value="背包房">背包房</option>
                            <option value="其他服務">其他服務</option>
                        </select>
                        <p v-if="submitted && !bookingForm.roomType" class="text-red-500 text-sm mt-1">
                            請選擇房型
                        </p>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block mb-2">入住日期 *</label>
                        <input 
                            name="checkIn"
                            v-model="bookingForm.checkIn" 
                            type="date" 
                            class="w-full px-3 py-2 border rounded" 
                            required
                            :min="minDate"
                            :class="{'border-red-500': submitted && !bookingForm.checkIn}"
                        >
                        <p v-if="submitted && !bookingForm.checkIn" class="text-red-500 text-sm mt-1">
                            請選擇入住日期
                        </p>
                    </div>

                    <div class="mb-4">
                        <label class="block mb-2">退房日期 *</label>
                        <input 
                            name="checkOut"
                            v-model="bookingForm.checkOut" 
                            type="date" 
                            class="w-full px-3 py-2 border rounded" 
                            required
                            :min="checkOutMinDate"
                            :class="{'border-red-500': submitted && !bookingForm.checkOut}"
                        >
                        <p v-if="submitted && !bookingForm.checkOut" class="text-red-500 text-sm mt-1">
                            請選擇退房日期
                        </p>
                        <p v-if="checkOutError" class="text-red-500 text-sm mt-1">
                            退房日期必須晚於入住日期
                        </p>
                    </div>
                    
                    <button 
                        type="submit" 
                        class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600"
                    >
                        確認預約
                    </button>
                </form>
            </div>
        </section>


    <!-- 地圖 -->
<section class="py-16">
    <h2 class="text-3xl font-bold text-center mb-8">我們的位置</h2>
    <div class="container mx-auto px-4 space-y-6"> 
        <!-- 地圖部分 (上方) -->
        <div>
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7363.400446522635!2d121.46871007479007!3d22.66496297942601!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x346f8d0af5f29773%3A0xaa1bc2366946abf0!2z57ag5bO25b-r5qiC5r2b5rC05rCR5a6_!5e0!3m2!1szh-TW!2sca!4v1743146375513!5m2!1szh-TW!2sca" 
                width="100%" 
                height="350" 
                style="border:0;" 
                allowfullscreen 
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>

        <!-- QR Code 部分 (中間) -->
        <div class="flex justify-center">
            <img src="image/line_orig.png" alt="QR Code" class="w-64 h-auto">
        </div>

        <!-- 文字資訊 (下方) -->
        <div class="text-sm text-gray-700 text-center">
            <p><strong>傳真：</strong>089-672058</p>
            <p><strong>信箱：</strong>happytattoo@yahoo.com.tw</p>
            <p><strong>LINE ID：</strong>happytattoo 或 @388ujhrs</p>
            <p><strong>微信ID：</strong>happydivingbnb</p>
            <p><strong>營業地址：</strong>台東縣綠島鄉南寮村南寮19號</p>
            <p><strong>快樂民宿-編號：</strong>1075</p>
            <p><strong>兆豐產險保單編號：</strong>0205第13PBL00113號</p>
            <p><strong>綠島快樂潛水店-編號：</strong>81393862</p>
            <p><strong>旺旺友聯產險保單編號：</strong>1200第13NPUBW00008號///1200第13WAIN000008號</p>
            <p><strong>金快樂2號娛樂船：</strong>富邦產險保單編號 0514第24CG00000122號///0514字第24ATN0000045號</p>
        </div>
    </div>
</section>

        <!-- 頁尾 -->
        <footer class="bg-gray-800 text-white py-8">
            <div class="container mx-auto px-4 text-center">
                <p>&copy; 2024 Happy Dive B&B 版權所有</p>
            </div>
        </footer>
    </div>

    <script>
        const { createApp } = Vue

createApp({
    data() {
        return {
            bookingForm: {
                name: '',
                phone: '',
                lineId: '',
                roomType: '',
                checkIn: '',
                checkOut: ''
            },
            submitted: false,
            minDate: new Date().toISOString().split('T')[0],
            checkOutMinDate: new Date().toISOString().split('T')[0]
        }
    },
    computed: {
        isValidPhone() {
            const phoneRegex = /^[0-9]{10}$/;
            return phoneRegex.test(this.bookingForm.phone);
        },
        checkOutError() {
            return this.bookingForm.checkIn && 
                   this.bookingForm.checkOut && 
                   this.bookingForm.checkOut <= this.bookingForm.checkIn;
        }
    },
    methods: {
        updateCheckOutMin() {
            // 設定退房日期的最小值為入住日期
            this.checkOutMinDate = this.bookingForm.checkIn || this.minDate;
        },
        async submitBooking(event) {
            event.preventDefault(); // 阻止表單默認提交
            this.submitted = true;

            // 驗證所有必填欄位
            if (
                !this.bookingForm.name || 
                !this.isValidPhone || 
                !this.bookingForm.lineId || 
                !this.bookingForm.roomType || 
                !this.bookingForm.checkIn ||
                !this.bookingForm.checkOut ||
                this.checkOutError
            ) {
                return;
            }

            // 計算住宿天數
            const checkIn = new Date(this.bookingForm.checkIn);
            const checkOut = new Date(this.bookingForm.checkOut);
            const nights = Math.ceil((checkOut - checkIn) / (1000 * 60 * 60 * 24));

            // 使用 Fetch API 提交表單
            try {
                const response = await fetch('https://formspree.io/f/xovevkvd', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        name: this.bookingForm.name,
                        phone: this.bookingForm.phone,
                        lineId: this.bookingForm.lineId,
                        roomType: this.bookingForm.roomType,
                        checkIn: this.bookingForm.checkIn,
                        checkOut: this.bookingForm.checkOut,
                        nights: nights
                    })
                });

                if (response.ok) {
                    // 顯示成功訊息
                    alert(`感謝您的預約！
入住日期：${this.bookingForm.checkIn}
退房日期：${this.bookingForm.checkOut}
住宿天數：${nights}天
我們將盡快與您聯繫。`);

                    // 重置表單
                    this.bookingForm = {
                        name: '',
                        phone: '',
                        lineId: '',
                        roomType: '',
                        checkIn: '',
                        checkOut: ''
                    };
                    this.submitted = false;
                } else {
                    throw new Error('表單提交失敗');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('預約提交失敗，請稍後再試或直接聯繫我們。');
            }
        }
    }
}).mount('#app')
    </script>
</body>
</html>